{% extends 'layout/base.html' %}
{% block content %}
<!-- End Header/Navigation -->

<!-- Start Hero Section -->
<div class="hero">
	<div class="container">
		<div class="row justify-content-between">
			<div class="col-lg-5">
				<div class="intro-excerpt">
					<h1>Cart</h1>
				</div>
				
			</div>
			<div class="col-lg-7">

			</div>
		</div>
	</div>
</div>
<!-- End Hero Section -->
<div class="mt-5 main col-lg-12" id="main" style="">
    {% if coupons %}
    <div class="d-flex justify-content-center">
        <label for="myDropdown" style="color:#000; font-weight:700;">
            <h2>Coupons available for you</h2>
        </label>
    </div>

    {% for coupon in coupons%}
    <div class=" text-dark col-lg-3 px-5 mx-5"
        style="background-color: #d8cbbe; border:10px solid #f4f4f4;border-radius:10%;">
        <h6 style="font-weight:bolder;color:rgb(1, 57, 27)">coupon-{{ forloop.counter }}</h6>
        <h5 class=""> Coupon Name: {{ coupon.coupon_name }}</h5>

        <h6 class="col-lg-6 mt-3">Coupon Code:</h6>
        <input class="col-lg-6 mt-1" type="text" id="Code" value="{{ coupon.code }}">


        <button type="button" onclick="copyText()" style="background-color: #09f4b1;">Copy</button>
        <h6 class="mt-3" style="color: #0055ff;">"Enjoy a discount of Rs.{{ coupon.discount }} on your next purchase!"
        </h6>
        <p class="text-danger mt-3 pb-3">nb: This coupon is only available from {{ coupon.valid_from }} &nbspto&nbsp {{
            coupon.valid_to }}</p>
    </div>

    {% endfor %}
    {% else %}
    <div class="d-flex justify-content-center mt-3 mb-3">
        <label style="color:#000; font-weight:700;">There are no coupons available for you right now</label>
    </div>
    {% endif %}
</div>




<div class="untree_co-section before-footer-section">
	<div class="container">
		{% if cart_items%}
		<div class="row mb-5">
			<form class="col-md-12" method="post">
				<div class="site-blocks-table">
					<table class="table">
						<thead>
							<tr>
								<th class="product-thumbnail">Image</th>
								<th class="product-name">Product</th>
								<th class="product-price">Price</th>
								<th class="product-quantity">Quantity</th>
								<th class="product-total">Total</th>
								<th class="product-remove">Remove</th>
							</tr>
						</thead>
						<tbody>
							
							{% for cart_item in cart_items %}
							<tr>
								<td class="product-thumbnail">
									<a href="{% url 'product_details' variant_id=cart_item.product.id %}">
										<img src="/media/{{cart_item.product.image1}}" alt="Image" class="img-fluid">
									</a>
								</td>
								<td class="product-name">
									<h2 class="h5 text-black">{{cart_item.product.product_name}}</h2>
								</td>
								<td>{{cart_item.product.selling_price}}</td>

								<td>
									<div class="input-group mb-3 d-flex align-items-center quantity-container"
										style="max-width: 120px;">
										<div class="input-group-prepend">
											<a href="{% url 'decrement_cartitem' product_id=cart_item.product.id %}">
												<button class="btn btn-outline-black decrease"
													type="button">&minus;</button>
											</a>
										</div>
										<input type="text" class="form-control text-center quantity-amount"
											value="{{cart_item.quantity}}" placeholder=""
											aria-label="Example text with button addon"
											aria-describedby="button-addon1">
										<div class="input-group-append">
											<a href="{% url 'add_cart' variant_id=cart_item.product.id %}">
												<button class="btn btn-outline-black increase"
													type="button">&plus;</button>
											</a>

										</div>
									</div>

								</td>
								<td>{{ sub_total }}</td>
								<td><a href="{% url 'remove_cartitem' variant_id=cart_item.product.id %}" class="btn btn-black btn-sm">X</a></td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</form>
		</div>
		<div class="row">
			<div class="col-md-6">
				<div class="row mb-5 justify-content-center">
					<!-- <div class="col-md-6 mb-3 mb-md-0">
						<button class="btn btn-black btn-sm btn-block">Update Cart</button>
					</div> -->
					<div class="col-md-6">
						<a href="{% url 'shop_page' %}">
							<button class="btn btn-outline-black btn-sm btn-block">Continue Shopping</button>
						</a>
						
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<label class="text-black h4" for="coupon">Coupon</label>
						<p>Enter your coupon code if you have one.</p>
					</div>
					<div class="col-md-8 mb-3 mb-md-0">
						<input type="text" class="form-control py-3" id="coupon" placeholder="Coupon Code">
					</div>
					<div class="col-md-4">
						<button class="btn btn-black">Apply Coupon</button>
					</div>
				</div>
			</div>
			<div class="col-md-6 pl-5">
				<div class="row justify-content-end">
					<div class="col-md-7">
						<div class="row">
							<div class="col-md-12 text-right border-bottom mb-5">
								<h3 class="text-black h4 text-uppercase">Cart Totals</h3>
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-md-6">
								<span class="text-black">Subtotal</span>
							</div>
							<div class="col-md-6 text-right">
								<strong class="text-black">₹ {{total}}</strong>
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-md-6">
								<span class="text-black">Tax</span>
							</div>
							<div class="col-md-6 text-right">
								<strong class="text-black">₹ {{tax}}</strong>
							</div>
						</div>
						<div class="row mb-5">
							<div class="col-md-6">
								<span class="text-black">Grand Total</span>
							</div>
							<div class="col-md-6 text-right">
								<strong class="text-black">₹ {{grand_total}}</strong>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<a href="{% url 'address_checkout'%}">
									<button class="btn btn-secondary btn-lg py-3 btn-block"
									onclick="window.location='checkout.html' ">Proceed To Checkout</button>
								</a>
							
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		{%else%}
		<h1 class="d-flex justify-content-center mt-2 mb-5">Your Cart is Empty</h1>
		{%endif%}

	

		
	</div>
</div>

{% endblock %}
<!-- Start Footer Section -->